// Retrieve best matching doc + snippet for a query
const context = await inject("claude", "fix async test flake", 4);

if (context.found) {
  const systemPrompt = `${context.short_summary}\n\nRelevant docs:\n${context.snippet}`;

// Pass systemPrompt to Claude API
  const response = await anthropic.messages.create({
    model: "claude-3-5-sonnet-20241022",
    max_tokens: 8192,
    system: systemPrompt,
    messages: [{ role: "user", content: userMessage }]
  });
}
```

**CLI usage:**
```bash
# Get context for a specific query
deno run --allow-read scripts/inject_agent_context.ts --query "write security tests" --agent claude