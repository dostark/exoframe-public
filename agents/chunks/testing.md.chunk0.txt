# ExoFrame Test Development Guidelines (migrated)

This document is a migration of `tests/AGENT_INSTRUCTIONS.md` into `agents/` to provide focused guidance for dev-time agents and tooling.

Key points
- Use `initTestDbService()` and `createCliTestContext()` to centralize db+tempdir setup
- Use `withEnv()` for temporary env var changes in tests
- Prefer `createCliTestContext()` for CLI tests and call returned `cleanup()` in `afterEach`

Canonical prompt (short):
"You are a test-writing assistant for ExoFrame. List failing test names and assertions first, using `initTestDbService()` or `createCliTestContext()` where appropriate."

Examples
- Example prompt: "Write tests that verify PlanWriter handles missing files and empty JSON. Use `initTestDbService()` and ensure cleanup is called."