{
  "path": "agents/prompts/rag-context-injection.md",
  "title": "RAG Context Injection Prompt",
  "vecs": [
    {
      "text": "# RAG Context Injection Prompt\n\n## Prompt Template\n\n```\nBefore answering my question, inject relevant context from agents/:\n\nStep 1: Inspect available embeddings\ndeno run --allow-read scripts/inspect_embeddings.ts --query \"[your query]\" --top 10\n\nStep 2: Inject context (adjust --limit based on complexity)\ndeno run --allow-read scripts/inject_agent_context.ts claude \"[your query]\" [2-10]\n\nThen use the injected context to guide your response.\n\nMy question: [actual question]\n\nToken budget: [simple: 2-3 chunks | medium: 4-6 chunks | complex: 8-10 chunks]\n```\n\n## Example Usage (Simple Task)\n\n**User:**\n```\nBefore answering my question, inject relevant context from agents/:",
      "vector": [
        0.792156862745098,
        0.7294117647058823,
        0.20784313725490197,
        0.9921568627450981,
        0.403921568627451,
        0.788235294117647,
        0.2549019607843137,
        0.9254901960784314,
        0.17254901960784313,
        0.7843137254901961,
        0.9568627450980393,
        0.28627450980392155,
        0.10980392156862745,
        0.5215686274509804,
        0.9411764705882353,
        0.8627450980392157,
        0.6705882352941176,
        0.9137254901960784,
        0.26666666666666666,
        0.8274509803921568,
        0.48627450980392156,
        0.4392156862745098,
        0.8627450980392157,
        0.8627450980392157,
        0.2549019607843137,
        0.6313725490196078,
        0.5176470588235295,
        0.7294117647058823,
        0.796078431372549,
        0.027450980392156862,
        0.0784313725490196,
        0.33725490196078434,
        0.792156862745098,
        0.7294117647058823,
        0.20784313725490197,
        0.9921568627450981,
        0.403921568627451,
        0.788235294117647,
        0.2549019607843137,
        0.9254901960784314,
        0.17254901960784313,
        0.7843137254901961,
        0.9568627450980393,
        0.28627450980392155,
        0.10980392156862745,
        0.5215686274509804,
        0.9411764705882353,
        0.8627450980392157,
        0.6705882352941176,
        0.9137254901960784,
        0.26666666666666666,
        0.8274509803921568,
        0.48627450980392156,
        0.4392156862745098,
        0.8627450980392157,
        0.8627450980392157,
        0.2549019607843137,
        0.6313725490196078,
        0.5176470588235295,
        0.7294117647058823,
        0.796078431372549,
        0.027450980392156862,
        0.0784313725490196,
        0.33725490196078434
      ]
    },
    {
      "text": "Step 1: Inspect available embeddings\ndeno run --allow-read scripts/inspect_embeddings.ts --query \"database cleanup patterns\" --top 10\n\nStep 2: Inject context (2-3 chunks for simple task)\ndeno run --allow-read scripts/inject_agent_context.ts claude \"database cleanup patterns testing\" 3\n\nThen use the injected context to guide your response.\n\nMy question: How do I properly clean up database connections in tests?\n\nToken budget: simple task, 2-3 chunks sufficient\n```\n\n## Example Usage (Complex Task)\n\n**User:**\n```\nBefore answering my question, inject relevant context from agents/:\n\nStep 1: Inspect available embeddings\ndeno run --allow-read scripts/inspect_embeddings.ts --query \"security testing Portal permissions PathResolver\" --top 10",
      "vector": [
        0.4235294117647059,
        0.611764705882353,
        0.9921568627450981,
        0.0196078431372549,
        0.37254901960784315,
        0.7058823529411765,
        0.3333333333333333,
        0.5333333333333333,
        0.9372549019607843,
        0.4980392156862745,
        0.14901960784313725,
        0.615686274509804,
        0.6705882352941176,
        0.4980392156862745,
        0.5254901960784314,
        0.6588235294117647,
        0.12156862745098039,
        0.3764705882352941,
        0.7176470588235294,
        0.7176470588235294,
        0.2784313725490196,
        0.6901960784313725,
        0.7529411764705882,
        0.7411764705882353,
        0.10980392156862745,
        0.2,
        0.15294117647058825,
        0.5529411764705883,
        0.050980392156862744,
        0.09019607843137255,
        0.5176470588235295,
        0.9803921568627451,
        0.4235294117647059,
        0.611764705882353,
        0.9921568627450981,
        0.0196078431372549,
        0.37254901960784315,
        0.7058823529411765,
        0.3333333333333333,
        0.5333333333333333,
        0.9372549019607843,
        0.4980392156862745,
        0.14901960784313725,
        0.615686274509804,
        0.6705882352941176,
        0.4980392156862745,
        0.5254901960784314,
        0.6588235294117647,
        0.12156862745098039,
        0.3764705882352941,
        0.7176470588235294,
        0.7176470588235294,
        0.2784313725490196,
        0.6901960784313725,
        0.7529411764705882,
        0.7411764705882353,
        0.10980392156862745,
        0.2,
        0.15294117647058825,
        0.5529411764705883,
        0.050980392156862744,
        0.09019607843137255,
        0.5176470588235295,
        0.9803921568627451
      ]
    },
    {
      "text": "Step 2: Inject context (8-10 chunks for complex task)\ndeno run --allow-read scripts/inject_agent_context.ts claude \"security testing Portal permissions path validation\" 10\n\nThen use the injected context to guide your response.\n\nMy question: Design comprehensive security tests for Portal permission boundaries and PathResolver validation.\n\nToken budget: complex task requiring security patterns + testing patterns + Portal docs = 8-10 chunks\n```\n\n## Example Usage (Multi-Step Workflow)\n\n**User:**\n```\nI'm working on a multi-step task. Before each step, inject fresh context:\n\nSTEP 1: Design (inject context about architecture patterns)\ndeno run --allow-read scripts/inject_agent_context.ts claude \"service pattern module design\" 4",
      "vector": [
        0.7607843137254902,
        0.4,
        0.8196078431372549,
        0.9137254901960784,
        0.8745098039215686,
        0.3411764705882353,
        0.1803921568627451,
        0.3568627450980392,
        0.47843137254901963,
        0.23921568627450981,
        0.22745098039215686,
        0.7254901960784313,
        0.9490196078431372,
        0.023529411764705882,
        0.45098039215686275,
        0.36470588235294116,
        0.043137254901960784,
        0.09803921568627451,
        0.15294117647058825,
        0.3333333333333333,
        0.011764705882352941,
        0.32941176470588235,
        0.9450980392156862,
        0.7490196078431373,
        0.9254901960784314,
        0.5647058823529412,
        0.7450980392156863,
        0.3568627450980392,
        0.3803921568627451,
        0.9215686274509803,
        0.6627450980392157,
        0.2980392156862745,
        0.7607843137254902,
        0.4,
        0.8196078431372549,
        0.9137254901960784,
        0.8745098039215686,
        0.3411764705882353,
        0.1803921568627451,
        0.3568627450980392,
        0.47843137254901963,
        0.23921568627450981,
        0.22745098039215686,
        0.7254901960784313,
        0.9490196078431372,
        0.023529411764705882,
        0.45098039215686275,
        0.36470588235294116,
        0.043137254901960784,
        0.09803921568627451,
        0.15294117647058825,
        0.3333333333333333,
        0.011764705882352941,
        0.32941176470588235,
        0.9450980392156862,
        0.7490196078431373,
        0.9254901960784314,
        0.5647058823529412,
        0.7450980392156863,
        0.3568627450980392,
        0.3803921568627451,
        0.9215686274509803,
        0.6627450980392157,
        0.2980392156862745
      ]
    },
    {
      "text": "STEP 2: Write tests (inject context about TDD patterns)\ndeno run --allow-read scripts/inject_agent_context.ts claude \"TDD testing patterns helpers\" 4\n\nSTEP 3: Implement (inject context about implementation patterns)\ndeno run --allow-read scripts/inject_agent_context.ts claude \"implementation patterns error handling\" 4\n\nSTEP 4: Document (inject context about documentation)\ndeno run --allow-read scripts/inject_agent_context.ts claude \"documentation updates Implementation Plan\" 3\n\nTask: Add new LLM provider with comprehensive tests and docs.\n```\n\n## Expected Response Pattern",
      "vector": [
        0.5137254901960784,
        0.19607843137254902,
        0.4588235294117647,
        0.32941176470588235,
        0.3215686274509804,
        0.3568627450980392,
        0.16862745098039217,
        0.08627450980392157,
        0.13725490196078433,
        0.17254901960784313,
        0.0196078431372549,
        0.3058823529411765,
        0.15294117647058825,
        0.9607843137254902,
        0.9607843137254902,
        0.7568627450980392,
        0.6784313725490196,
        0.03137254901960784,
        0.7215686274509804,
        0.8509803921568627,
        0.8862745098039215,
        0.8274509803921568,
        0.7607843137254902,
        0.44313725490196076,
        0.35294117647058826,
        0.6862745098039216,
        0.2,
        0.3764705882352941,
        0.047058823529411764,
        0.6549019607843137,
        0.4549019607843137,
        0.7098039215686275,
        0.5137254901960784,
        0.19607843137254902,
        0.4588235294117647,
        0.32941176470588235,
        0.3215686274509804,
        0.3568627450980392,
        0.16862745098039217,
        0.08627450980392157,
        0.13725490196078433,
        0.17254901960784313,
        0.0196078431372549,
        0.3058823529411765,
        0.15294117647058825,
        0.9607843137254902,
        0.9607843137254902,
        0.7568627450980392,
        0.6784313725490196,
        0.03137254901960784,
        0.7215686274509804,
        0.8509803921568627,
        0.8862745098039215,
        0.8274509803921568,
        0.7607843137254902,
        0.44313725490196076,
        0.35294117647058826,
        0.6862745098039216,
        0.2,
        0.3764705882352941,
        0.047058823529411764,
        0.6549019607843137,
        0.4549019607843137,
        0.7098039215686275
      ]
    },
    {
      "text": "Claude should:\n1. Run inspect_embeddings.ts to see available docs\n2. Run inject_agent_context.ts with appropriate limit\n3. Reference specific sections from injected docs in response\n4. Follow patterns from retrieved context\n5. Cite which agent docs were used (e.g., \"Per agents/tests/testing.md...\")",
      "vector": [
        0.47058823529411764,
        0.08627450980392157,
        0.5882352941176471,
        0.2901960784313726,
        0.6941176470588235,
        0.8705882352941177,
        0.6392156862745098,
        0.7607843137254902,
        0.14901960784313725,
        0.48627450980392156,
        0.48627450980392156,
        0.6509803921568628,
        0.6274509803921569,
        0.4549019607843137,
        0.24705882352941178,
        0.7372549019607844,
        0.7019607843137254,
        0.9333333333333333,
        0.6509803921568628,
        0.8235294117647058,
        0.6941176470588235,
        0.3254901960784314,
        0.5137254901960784,
        0.33725490196078434,
        0.0784313725490196,
        0.6235294117647059,
        0.8431372549019608,
        0.13725490196078433,
        0.3803921568627451,
        0.5725490196078431,
        0.5411764705882353,
        0.3843137254901961,
        0.47058823529411764,
        0.08627450980392157,
        0.5882352941176471,
        0.2901960784313726,
        0.6941176470588235,
        0.8705882352941177,
        0.6392156862745098,
        0.7607843137254902,
        0.14901960784313725,
        0.48627450980392156,
        0.48627450980392156,
        0.6509803921568628,
        0.6274509803921569,
        0.4549019607843137,
        0.24705882352941178,
        0.7372549019607844,
        0.7019607843137254,
        0.9333333333333333,
        0.6509803921568628,
        0.8235294117647058,
        0.6941176470588235,
        0.3254901960784314,
        0.5137254901960784,
        0.33725490196078434,
        0.0784313725490196,
        0.6235294117647059,
        0.8431372549019608,
        0.13725490196078433,
        0.3803921568627451,
        0.5725490196078431,
        0.5411764705882353,
        0.3843137254901961
      ]
    }
  ]
}