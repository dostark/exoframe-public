3. DIAGNOSE:
   <thinking>
   - Expected: cleanup() called in finally block
   - Actual: cleanup() might be missing or called conditionally
   - Gap: Test setup doesn't guarantee cleanup
   - Files: tests/config_test.ts, possibly tests/helpers/db.ts
   </thinking>

4. FIX:
   - Check if cleanup is in try/finally
   - Verify all code paths call cleanup
   - Update test to use proper pattern from agents/tests/testing.md

5. DOCUMENT:
   - Add comment explaining cleanup requirement
   - Update Implementation Plan step if this was part of config work

Error type: Test failure (resource leak)
Component: tests/config_test.ts
```

## Example Usage (Runtime Error)

**User:**
```
I have a bug: PathResolver crashes with "Permission denied" for valid Portal paths

Use systematic debugging approach: